<!DOCTYPE html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>toDo</title><style type="text/css">
li input {display:none;}
li.edit span {display:none;}
li.edit input {display:initial;}	
</style></head><body>
<h1>toDo Checklist</h1>
<form name="checklist" id="checklist">
  <input type="text" name="item"/>
  <input type="button" value="+" id="add"/>
</form>
<ol class="list"></ol>

<ul id="checklist">
	<li>
		<span>Apples</span>
		<input value="Apples" />
	</li>
	<li>
		<span>Oranges</span>
		<input value="Oranges" />
	</li>
	<li>
		<span>Bananas</span>
		<input value="Bananas" />
	</li>
</ul>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
<script type="text/javascript">
var checklist = document.getElementById("checklist");
var items = checklist.querySelectorAll("li");
var inputs = checklist.querySelectorAll("input");
for(var i=0; i<items.length; i++) {
	items[i].addEventListener("click", editItem);
	inputs[i].addEventListener("blur", updateItem);
	inputs[i].addEventListener("keypress", itemKeypress);
}

function editItem() {
	this.className = "edit";
	var input = this.querySelector("input");
	input.focus();
	input.setSelectionRange(0, input.value.length);
}

function updateItem() {
	this.previousElementSibling.innerHTML = this.value;
	this.parentNode.className = "";
}

function itemKeypress(event) {
	if(event.which === 13) {
		updateItem.call(this);
	}
}

$(function () {
  $('#add').click(function () {
    var toAdd = $('input[name=checkListItem]').val();
    $('.list').append('<p><span class="item">' + toAdd + '</span> <input type="button" class="delete" value="Delete"/></p>');
  });
  $(document).on('click', '.delete', function () {
    $('.item, .delete').remove();
  });
});
</script></body></html>
